services:
  # Custom AI Backend
  - type: web
    name: coremind-backend
    env: docker
    dockerContext: .
    plan: free
    envVars:
      - key: PORT
        value: 8000
      - key: OPENAI_API_KEY
        sync: false
      - key: SUPABASE_URL
        sync: false
      - key: SUPABASE_KEY
        sync: false
      - key: CORS_ORIGINS
        value: https://turyasin.github.io

  # Flowise (Legacy/Backup)
  - type: web
    name: coremind-flowise
    env: docker
    dockerContext: ./flowise_deployment
    plan: free
    envVars:
      - key: PORT
        value: 3000
      - key: FLOWISE_USERNAME
        value: admin
      - key: FLOWISE_PASSWORD
        value: password123
      - key: NODE_OPTIONS
        value: --max-old-space-size=460
      - key: CORS_ORIGINS
        value: https://turyasin.github.io
